/*
    To Do:
    - Handle alert in case of error (clear localstorage and render home page)

*/
let main = document.querySelector("main");

if (localStorage.getItem("loggedIn") === "true") {
    renderMap();
} else {
    renderStartpage();
}

function renderStartpage() {
    main.innerHTML = `
    <h1 id="happily">Happily</h1>
    <h1 id="never"><span>N</span>ever</h1>
    <h1 id="after">After</h1>
    <button class="btnNewGame">Nytt spel</button>
    <button class="btnResumeGame">Fortsätt spela</button>
    `;

    main.querySelector(".btnNewGame").addEventListener("click", renderRegister)
    main.querySelector(".btnResumeGame").addEventListener("click", renderLogin)
}

function renderInstructionpage() {
    main.innerHTML = `
    <h2>Hur man spelar</h2>
    <div class="instructionContainer">
    <section>
        <div class="headerInstruction">
            <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                <mask id="mask0_273_7" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="34"
                    height="34">
                    <rect width="34" height="34" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_273_7)">
                    <path
                        d="M12.75 29.75H7.08333C6.30417 29.75 5.63715 29.4726 5.08229 28.9177C4.52743 28.3628 4.25 27.6958 4.25 26.9167V17C4.25 15.2292 4.58646 13.5705 5.25938 12.024C5.93229 10.4774 6.84132 9.1316 7.98646 7.98646C9.1316 6.84132 10.4774 5.93229 12.024 5.25938C13.5705 4.58646 15.2292 4.25 17 4.25C18.7708 4.25 20.4295 4.58646 21.976 5.25938C23.5226 5.93229 24.8684 6.84132 26.0135 7.98646C27.1587 9.1316 28.0677 10.4774 28.7406 12.024C29.4135 13.5705 29.75 15.2292 29.75 17V26.9167C29.75 27.6958 29.4726 28.3628 28.9177 28.9177C28.3628 29.4726 27.6958 29.75 26.9167 29.75H21.25V18.4167H26.9167V17C26.9167 14.2375 25.9545 11.8941 24.0302 9.96979C22.1059 8.04549 19.7625 7.08333 17 7.08333C14.2375 7.08333 11.8941 8.04549 9.96979 9.96979C8.04549 11.8941 7.08333 14.2375 7.08333 17V18.4167H12.75V29.75ZM9.91667 21.25H7.08333V26.9167H9.91667V21.25ZM24.0833 21.25V26.9167H26.9167V21.25H24.0833Z"
                        fill="white" />
                </g>
            </svg>
            <h3>Hörlurar</h3>
        </div>
        <p>Använd gärna hörlurar för att få en bättre upplevelse</p>
    </section>
    <section>
        <div class="headerInstruction">
            <svg xmlns="http://www.w3.org/2000/svg" width="34" height="35" viewBox="0 0 34 35" fill="none">
                <g clip-path="url(#clip0_159_115)">
                    <path
                        d="M0 17.75C0 13.2413 1.79107 8.9173 4.97919 5.72919C8.1673 2.54107 12.4913 0.75 17 0.75C21.5087 0.75 25.8327 2.54107 29.0208 5.72919C32.2089 8.9173 34 13.2413 34 17.75C34 22.2587 32.2089 26.5827 29.0208 29.7708C25.8327 32.9589 21.5087 34.75 17 34.75C12.4913 34.75 8.1673 32.9589 4.97919 29.7708C1.79107 26.5827 0 22.2587 0 17.75ZM12.5043 10.5184C11.9996 10.7973 11.6875 11.3352 11.6875 11.9062V23.5938C11.6875 24.1715 11.9996 24.7027 12.5043 24.9816C13.009 25.2605 13.6199 25.2539 14.118 24.9484L23.6805 19.1047C24.152 18.8125 24.4441 18.3012 24.4441 17.7434C24.4441 17.1855 24.152 16.6742 23.6805 16.382L14.118 10.5383C13.6266 10.2395 13.009 10.2262 12.5043 10.5051V10.5184Z"
                        fill="#F6F6F6" />
                </g>
                <defs>
                    <clipPath id="clip0_159_115">
                        <rect width="34" height="34" fill="white" transform="translate(0 0.75)" />
                    </clipPath>
                </defs>
            </svg>
            <h3>Play</h3>
        </div>
        <p>Lyssna på historian</p>
    </section>
    <section>
        <div class="headerInstruction">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="27" viewBox="0 0 32 27" fill="none">
                <path
                    d="M3.6 5.21875C3.6 4.46454 3.895 3.74122 4.4201 3.20792C4.9452 2.67461 5.65739 2.375 6.4 2.375C7.14261 2.375 7.8548 2.67461 8.3799 3.20792C8.905 3.74122 9.2 4.46454 9.2 5.21875C9.2 5.97296 8.905 6.69628 8.3799 7.22958C7.8548 7.76289 7.14261 8.0625 6.4 8.0625C5.65739 8.0625 4.9452 7.76289 4.4201 7.22958C3.895 6.69628 3.6 5.97296 3.6 5.21875ZM3.2 13.227C2.7 13.7957 2.4 14.5523 2.4 15.375C2.4 16.1977 2.7 16.9543 3.2 17.523V13.227ZM10.42 10.7234C8.935 12.059 8 14.0141 8 16.1875C8 17.9293 8.6 19.5289 9.6 20.7832V21.875C9.6 22.7738 8.885 23.5 8 23.5H4.8C3.915 23.5 3.2 22.7738 3.2 21.875V20.5141C1.31 19.6 0 17.6449 0 15.375C0 12.2316 2.505 9.6875 5.6 9.6875H7.2C8.4 9.6875 9.51 10.0684 10.42 10.7184V10.7234ZM22.4 21.875V20.7832C23.4 19.5289 24 17.9293 24 16.1875C24 14.0141 23.065 12.059 21.58 10.7184C22.49 10.0684 23.6 9.6875 24.8 9.6875H26.4C29.495 9.6875 32 12.2316 32 15.375C32 17.6449 30.69 19.6 28.8 20.5141V21.875C28.8 22.7738 28.085 23.5 27.2 23.5H24C23.115 23.5 22.4 22.7738 22.4 21.875ZM22.8 5.21875C22.8 4.46454 23.095 3.74122 23.6201 3.20792C24.1452 2.67461 24.8574 2.375 25.6 2.375C26.3426 2.375 27.0548 2.67461 27.5799 3.20792C28.105 3.74122 28.4 4.46454 28.4 5.21875C28.4 5.97296 28.105 6.69628 27.5799 7.22958C27.0548 7.76289 26.3426 8.0625 25.6 8.0625C24.8574 8.0625 24.1452 7.76289 23.6201 7.22958C23.095 6.69628 22.8 5.97296 22.8 5.21875ZM28.8 13.227V17.5281C29.3 16.9543 29.6 16.2027 29.6 15.3801C29.6 14.5574 29.3 13.8008 28.8 13.232V13.227ZM16 2.375C16.8487 2.375 17.6626 2.71741 18.2627 3.3269C18.8629 3.9364 19.2 4.76305 19.2 5.625C19.2 6.48695 18.8629 7.3136 18.2627 7.9231C17.6626 8.53259 16.8487 8.875 16 8.875C15.1513 8.875 14.3374 8.53259 13.7373 7.9231C13.1371 7.3136 12.8 6.48695 12.8 5.625C12.8 4.76305 13.1371 3.9364 13.7373 3.3269C14.3374 2.71741 15.1513 2.375 16 2.375ZM12 16.1875C12 17.0102 12.3 17.7617 12.8 18.3355V14.0395C12.3 14.6133 12 15.3648 12 16.1875ZM19.2 14.0395V18.3406C19.7 17.7668 20 17.0152 20 16.1926C20 15.3699 19.7 14.6133 19.2 14.0445V14.0395ZM22.4 16.1875C22.4 18.4574 21.09 20.4125 19.2 21.3266V23.5C19.2 24.3988 18.485 25.125 17.6 25.125H14.4C13.515 25.125 12.8 24.3988 12.8 23.5V21.3266C10.91 20.4125 9.6 18.4574 9.6 16.1875C9.6 13.0441 12.105 10.5 15.2 10.5H16.8C19.895 10.5 22.4 13.0441 22.4 16.1875Z"
                    fill="#F5F5F5" />
            </svg>
            <h3>Lyssna på karaktärerna</h3>
        </div>
        <p>Gå runt och prata med de som varit på platsen</p>
    </section>
    <section>
        <div class="headerInstruction">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="28" viewBox="0 0 20 28" fill="none">
                <path
                    d="M19.6137 3.83492C20.2022 3.24469 20.1084 2.36802 19.4001 1.87761C18.6919 1.3872 17.6399 1.46532 17.0514 2.05555L10 9.10792L2.94859 2.05555C2.3601 1.46532 1.30812 1.3872 0.599854 1.87761C-0.108412 2.36802 -0.202153 3.24469 0.386333 3.83492L7.82833 11.2779L0.386333 18.7209C-0.202153 19.3111 -0.108412 20.1877 0.599854 20.6782C1.30812 21.1686 2.3601 21.0905 2.94859 20.5002L10 13.4478L17.0514 20.5002C17.6399 21.0905 18.6919 21.1686 19.4001 20.6782C20.1084 20.1877 20.2022 19.3111 19.6137 18.7209L12.1717 11.2779L19.6137 3.83492Z"
                    fill="#FAFAFA" />
            </svg>
            <h3>Misstänk</h3>
        </div>
        <p>Ni kan misstänka personer på platsen och hålla koll på vem som verkar mest suspekt</p>
    </section>
    <section>
        <div class="headerInstruction">
            <svg xmlns="http://www.w3.org/2000/svg" width="39" height="40" viewBox="0 0 39 40" fill="none">
                <g clip-path="url(#clip0_159_132)">
                    <path
                        d="M23.3895 12.4425C23.3895 15.0227 22.5518 17.4062 21.1405 19.3399L28.2586 26.4622C28.9614 27.1649 28.9614 28.306 28.2586 29.0087C27.5558 29.7114 26.4144 29.7114 25.7116 29.0087L18.5936 21.8864C16.6594 23.303 14.2755 24.135 11.6948 24.135C5.23453 24.135 0 18.9015 0 12.4425C0 5.98351 5.23453 0.75 11.6948 0.75C18.155 0.75 23.3895 5.98351 23.3895 12.4425ZM11.6948 20.5373C12.758 20.5373 13.8108 20.3279 14.7931 19.9211C15.7754 19.5143 16.668 18.918 17.4198 18.1664C18.1716 17.4147 18.768 16.5223 19.1748 15.5402C19.5817 14.5581 19.7911 13.5055 19.7911 12.4425C19.7911 11.3795 19.5817 10.3268 19.1748 9.34474C18.768 8.36263 18.1716 7.47027 17.4198 6.7186C16.668 5.96693 15.7754 5.37067 14.7931 4.96387C13.8108 4.55707 12.758 4.34769 11.6948 4.34769C10.6315 4.34769 9.57872 4.55707 8.59642 4.96387C7.61412 5.37067 6.72158 5.96693 5.96976 6.7186C5.21795 7.47027 4.62157 8.36263 4.21469 9.34474C3.80781 10.3268 3.59839 11.3795 3.59839 12.4425C3.59839 13.5055 3.80781 14.5581 4.21469 15.5402C4.62157 16.5223 5.21795 17.4147 5.96976 18.1664C6.72158 18.918 7.61412 19.5143 8.59642 19.9211C9.57872 20.3279 10.6315 20.5373 11.6948 20.5373Z"
                        fill="white" />
                </g>
                <defs>
                    <clipPath id="clip0_159_132">
                        <rect width="39" height="39" fill="white" transform="translate(0 0.75)" />
                    </clipPath>
                </defs>
            </svg>
            <h3>Hitta mördaren</h3>
        </div>
        <p>Vem är mördaren? Du har som uppgift att lista ut detta</p>
    </section>
</div>
    <button id="btnStartPlaying">Börja spela</button>
    `;

    main.querySelector("#btnStartPlaying").addEventListener("click", renderIntroductionpage)
}



